# ì›Œí¬í”Œë¡œìš°(ìë™í™” ì‘ì—…)ì˜ ì´ë¦„! ê¹ƒí—ˆë¸Œ Actions íƒ­ì— ì´ ì´ë¦„ìœ¼ë¡œ í‘œì‹œ
name: Daily Grass Keeper ğŸŒ±

# ì–¸ì œ ì´ ì‘ì—…ì„ ì‹¤í–‰í• ì§€ ì •í•˜ëŠ” ë¶€ë¶„
on:
  schedule:
    # ê¹ƒí—ˆë¸Œ ì„œë²„ ì‹œê°„(UTC) ê¸°ì¤€ìœ¼ë¡œ ì„¤ì •
    # '0 0 * * *'ì€ í•œêµ­ ì‹œê°„ìœ¼ë¡œ ë§¤ì¼ ì˜¤ì „ 9ì‹œ ì •ê°ì— ì‹¤í–‰í•˜ë¼ëŠ” ëœ»
    - cron: '0 0 * * *'
    
  # 'ìˆ˜ë™ ì‹¤í–‰' ë²„íŠ¼ì„ ë§Œë“¤ì–´ì£¼ëŠ” ì„¤ì •
  # ì§€ê¸ˆ ë°”ë¡œ ì˜ ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•´ë³´ê³  ì‹¶ì„ ë•Œ Actions íƒ­ì—ì„œ ë²„íŠ¼ì„ ëˆ„ë¥´ê¸° ê°€ëŠ¥
  workflow_dispatch:

# ì‹¤ì œë¡œ ì»´í“¨í„°(ì„œë²„)ê°€ í•  ì¼ë“¤ì„ ì ì–´ë‘ëŠ” ê³³
jobs:
  auto_commit:
    # ìµœì‹  ë¦¬ëˆ…ìŠ¤ í™˜ê²½(Ubuntu)ì—ì„œ ì‹¤í–‰í•˜ê² ë‹¤ê³  ì„ ì–¸
    runs-on: ubuntu-latest
    
    steps:
      # 1ë‹¨ê³„: í˜„ì¬ ì €ì¥ì†Œì— ìˆëŠ” ë‚´ ì½”ë“œë“¤ì„ ì„œë²„ë¡œ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…
      - name: ì €ì¥ì†Œ ì½”ë“œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v3

      # 2ë‹¨ê³„: ë‚ ì§œë¥¼ ê¸°ë¡í•˜ëŠ” ë‹¨ê³„
      - name: ì˜¤ëŠ˜ ë‚ ì§œ ê¸°ë¡í•˜ê¸°
        run: |
          # ê¸°ì¤€ ì‹œê°„ì„ ì„œìš¸(í•œêµ­)ë¡œ ì„¤ì •í•´ì„œ í—·ê°ˆë¦¬ì§€ ì•Šê²Œ í•´ì¤„ê²Œ.
          export TZ='Asia/Seoul'
          # date.txt íŒŒì¼ì— "ë§ˆì§€ë§‰ ì”ë”” ì‹¬ì€ ì‹œê°„: 2026-01-27 ..." ì´ëŸ° ì‹ìœ¼ë¡œ í•œ ì¤„ì„ ì¨ë„£ê¸°
          echo "Last grass planted at: $(date +'%Y-%m-%d %H:%M:%S')" > date.txt
          
      # 3ë‹¨ê³„: ë³€ê²½ëœ íŒŒì¼ì„ ê¹ƒí—ˆë¸Œì— ë‹¤ì‹œ ì˜¬ë¦¬ëŠ”(ì»¤ë°‹ & í‘¸ì‹œ) ë‹¨ê³„
      - name: ë³€ê²½ì‚¬í•­ ì €ì¥í•˜ê³  ì˜¬ë¦¬ê¸°
        run: |
          # ê¹ƒí—ˆë¸Œ ë´‡ì´ ëˆ„êµ¬ ì´ë¦„ìœ¼ë¡œ ì»¤ë°‹í• ì§€ ì„¤ì •
          git config --local user.email "goaxhfl0807@gmail.com"
          git config --local user.name "hyeondoriii"
          
          # ìˆ˜ì •ëœ date.txt íŒŒì¼ì„ ìŠ¤í…Œì´ì§• ì˜ì—­ì— ì˜¬ë ¤ì¤˜.
          git add date.txt
          
          # ì»¤ë°‹ ë©”ì‹œì§€
          git commit -m "Grass update ğŸŒ± $(date +'%Y-%m-%d')"

          # ë‚´ ì €ì¥ì†Œ(main ë¸Œëœì¹˜)ë¡œ ìµœì¢… ì „ì†¡!
          git push
